<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" href="https://raw.github.com/necolas/normalize.css/master/normalize.css" type="text/css" media="screen" charset="utf-8">
  <link href="css/styles.css" rel="stylesheet" type="text/css" media="screen" /> 
  <title>SpaceInvaders - LEVEL 1</title>

</head>
<body>
<audio id="aud01" preload="auto"><source src="audio/shoot.mp3"></source><source src="audio/shoot.ogg"></source><source src="audio/shoot.wav"></source></audio>
    <script type="text/javascript" src="libs/jquery.min.js"></script>
    <script type="text/javascript" src="javascript/SpaceInvaders/base.js"></script>
    <script type="text/javascript" src="javascript/SpaceInvaders/stage.js"></script>
    <script type="text/javascript" src="javascript/SpaceInvaders/bulletCollection.js"></script>
    <script type="text/javascript" src="javascript/SpaceInvaders/player.js"></script>
    <script type="text/javascript" src="javascript/SpaceInvaders/enemy.js"></script>
    <script type="text/javascript" src="javascript/SpaceInvaders/enemiesGroupCollection.js"></script>
    <script type="text/javascript" src="javascript/SpaceInvaders/enemiesCollection.js"></script>
    <script type="text/javascript" src="javascript/SpaceInvaders/bullet.js"></script>
    <script type="text/javascript">
    	$(function() {

    // O jQuery falha em arquitectura de código
    // Esta simples funcao, permite de alguma forma
    // colmatar uma falha simples na herança em js.
    // é necessário verificar se o browser ja tem
    // a Object.create (ES5), pois essa é a função correcta
    // para fazer isto.
    $.beget = function(o) {
        function F() {} //jslint warning...
        if (Object.create) {
            return Object.create(o);
        } else {
            F.prototype = o;
            return new F();
        }
    };

    // Vamos carregar as naves e guarda-las
    $.getJSON('assets/spaceships.json', function(data) {
        SpaceInvaders.spaceshipsModels = data;
        SpaceInvaders.init(1);
    });
    
    // Corre quando se fecha a janela ou se faz refresh
	$(window).on('unload', SpaceInvaders.shutdown);
});
    </script>
 
    <div id="wrapper"></div>
</body>
</html> 
